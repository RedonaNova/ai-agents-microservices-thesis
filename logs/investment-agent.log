
> investment-agent@1.0.0 dev
> tsx watch src/index.ts

[32minfo[39m: ========================================== {"service":"investment-agent","timestamp":"2025-11-08T09:51:43.847Z"}
[32minfo[39m: Starting Consolidated Investment Agent {"service":"investment-agent","timestamp":"2025-11-08T09:51:43.852Z"}
[32minfo[39m: ========================================== {"service":"investment-agent","timestamp":"2025-11-08T09:51:43.852Z"}
[32minfo[39m: Connected to PostgreSQL database {"service":"investment-agent","timestamp":"2025-11-08T09:51:44.010Z"}
{"level":"WARN","timestamp":"2025-11-08T09:51:44.014Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}
{"level":"ERROR","timestamp":"2025-11-08T09:51:44.048Z","logger":"kafkajs","message":"[BrokerPool] Closed connection","retryCount":0,"retryTime":301}
{"level":"ERROR","timestamp":"2025-11-08T09:51:44.358Z","logger":"kafkajs","message":"[BrokerPool] Closed connection","retryCount":1,"retryTime":572}
{"level":"ERROR","timestamp":"2025-11-08T09:51:44.940Z","logger":"kafkajs","message":"[Connection] Connection error: read ECONNRESET","broker":"localhost:9092","clientId":"investment-agent","stack":"Error: read ECONNRESET\n    at TCP.onStreamRead (node:internal/stream_base_commons:216:20)"}
{"level":"ERROR","timestamp":"2025-11-08T09:51:44.944Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: read ECONNRESET","retryCount":2,"retryTime":1016}
{"level":"ERROR","timestamp":"2025-11-08T09:51:45.967Z","logger":"kafkajs","message":"[BrokerPool] Closed connection","retryCount":3,"retryTime":2044}
{"level":"ERROR","timestamp":"2025-11-08T09:51:48.017Z","logger":"kafkajs","message":"[BrokerPool] Closed connection","retryCount":4,"retryTime":4066}
{"level":"ERROR","timestamp":"2025-11-08T09:51:52.087Z","logger":"kafkajs","message":"[Connection] Connection error: read ECONNRESET","broker":"localhost:9092","clientId":"investment-agent","stack":"Error: read ECONNRESET\n    at TCP.onStreamRead (node:internal/stream_base_commons:216:20)"}
{"level":"ERROR","timestamp":"2025-11-08T09:51:52.088Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: read ECONNRESET","retryCount":5,"retryTime":9674}
[31merror[39m: Failed to connect to Kafka {"error":{"name":"KafkaJSNumberOfRetriesExceeded","retriable":false,"retryCount":5,"retryTime":9674},"service":"investment-agent","timestamp":"2025-11-08T09:51:52.090Z"}
[31merror[39m: Failed to start Investment Agent {"error":{"name":"KafkaJSNumberOfRetriesExceeded","retriable":false,"retryCount":5,"retryTime":9674},"service":"investment-agent","timestamp":"2025-11-08T09:51:52.091Z"}
