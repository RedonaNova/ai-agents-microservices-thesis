
> orchestrator-agent@1.0.0 dev
> tsx watch src/index.ts

{"level":"WARN","timestamp":"2025-12-07T14:15:08.176Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.282Z"}
[32minfo[39m: üöÄ Starting Orchestrator Agent (v2.0) {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.284Z"}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.284Z"}
[32minfo[39m: Connecting to Kafka... {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.284Z"}
(node:93298) TimeoutNegativeWarning: -1765116908311 is a negative number.
Timeout duration was set to 1.
(Use `node --trace-warnings ...` to show where the warning was created)
[32minfo[39m: ‚úÖ Connected to Kafka {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.312Z"}
[32minfo[39m: Subscribing to topics... {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.312Z"}
[32minfo[39m: ‚úÖ Subscribed to topics: user.requests, knowledge.results {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.327Z"}
[32minfo[39m: üìã Configuration: {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.327Z"}
[32minfo[39m:   - Input Topic: user.requests {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.327Z"}
[32minfo[39m:   - Output Topics: agent.tasks, planning.tasks, knowledge.queries {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.328Z"}
[32minfo[39m:   - Monitoring: monitoring.events {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.328Z"}
[32minfo[39m:  {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.328Z"}
[32minfo[39m: Starting message consumption... {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:08.328Z"}
{"level":"INFO","timestamp":"2025-12-07T14:15:08.329Z","logger":"kafkajs","message":"[Consumer] Starting","groupId":"orchestrator-group"}
{"level":"INFO","timestamp":"2025-12-07T14:15:09.652Z","logger":"kafkajs","message":"[ConsumerGroup] Consumer has joined the group","groupId":"orchestrator-group","memberId":"orchestrator-agent-93890147-c67d-40e9-9005-960172fe9a2a","leaderId":"orchestrator-agent-ba133093-6741-45f1-9664-e236c39e511c","isLeader":false,"memberAssignment":{"user.requests":[1],"knowledge.results":[2]},"groupProtocol":"RoundRobinAssigner","duration":1322}
[32minfo[39m: ‚úÖ Started consuming messages {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:09.653Z"}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:09.653Z"}
[32minfo[39m: ‚úÖ Orchestrator Agent is running! {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:09.653Z"}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-07T14:15:09.654Z"}
[32minfo[39m: üìö Received RAG results {"correlationId":"3052ec79-fb5f-4f9a-8ea1-437e6e7b9c54","queryId":"e9a28942-5531-444c-a264-effed3ed5be0","resultCount":0,"service":"orchestrator-agent","timestamp":"2025-12-07T14:17:33.681Z"}
[32minfo[39m: üìö Received RAG results {"correlationId":"31987d87-31d2-4a10-b851-b65830d25230","queryId":"df888b05-16d0-4323-a1ad-4c68d9224cf1","resultCount":0,"service":"orchestrator-agent","timestamp":"2025-12-07T14:19:06.124Z"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.468Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.469Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":0,"retryTime":90}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.562Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.562Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":1,"retryTime":156}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.720Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.721Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":2,"retryTime":366}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.088Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.089Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":3,"retryTime":800}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.895Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.896Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":4,"retryTime":1678}
{"level":"ERROR","timestamp":"2025-12-07T14:25:20.576Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:20.576Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":5,"retryTime":2698}
{"level":"ERROR","timestamp":"2025-12-07T14:25:23.280Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:23.280Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":6,"retryTime":5784}
{"level":"ERROR","timestamp":"2025-12-07T14:25:29.067Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:29.067Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":7,"retryTime":11520}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 {"level":"ERROR","timestamp":"2025-12-07T14:15:09.619Z","logger":"kafkajs","message":"[Connection] Response Heartbeat(key: 12, version: 3)","broker":"localhost:9092","clientId":"orchestrator-agent","error":"The group is rebalancing, so a rejoin is needed","correlationId":10,"size":10}
{"level":"ERROR","timestamp":"2025-12-07T14:15:09.621Z","logger":"kafkajs","message":"[Connection] Response Heartbeat(key: 12, version: 3)","broker":"localhost:9092","clientId":"orchestrator-agent","error":"The group is rebalancing, so a rejoin is needed","correlationId":11,"size":10}
{"level":"WARN","timestamp":"2025-12-07T14:15:09.622Z","logger":"kafkajs","message":"[Runner] The group is rebalancing, re-joining","groupId":"orchestrator-group","memberId":"orchestrator-agent-4fcddeb6-acac-4bd2-a0e0-eccae3602d8f","error":"The group is rebalancing, so a rejoin is needed"}
{"level":"INFO","timestamp":"2025-12-07T14:15:09.651Z","logger":"kafkajs","message":"[ConsumerGroup] Consumer has joined the group","groupId":"orchestrator-group","memberId":"orchestrator-agent-4fcddeb6-acac-4bd2-a0e0-eccae3602d8f","leaderId":"orchestrator-agent-ba133093-6741-45f1-9664-e236c39e511c","isLeader":false,"memberAssignment":{"user.requests":[0],"knowledge.results":[1]},"groupProtocol":"RoundRobinAssigner","duration":29}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.474Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.600Z","logger":"kafkajs","message":"[Consumer] Crash: KafkaJSNoBrokerAvailableError: No broker available","groupId":"orchestrator-group","stack":"KafkaJSNoBrokerAvailableError: No broker available\n    at createFetchers (/home/it/apps/thesis-report/backend/orchestrator-agent/node_modules/kafkajs/src/consumer/fetchManager.js:38:13)\n    at Object.start (/home/it/apps/thesis-report/backend/orchestrator-agent/node_modules/kafkajs/src/consumer/fetchManager.js:71:18)\n    at /home/it/apps/thesis-report/backend/orchestrator-agent/node_modules/kafkajs/src/consumer/runner.js:113:33\n    at retry (/home/it/apps/thesis-report/backend/orchestrator-agent/node_modules/kafkajs/src/retry/index.js:43:5)\n    at Timeout._onTimeout (/home/it/apps/thesis-report/backend/orchestrator-agent/node_modules/kafkajs/src/retry/index.js:40:24)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.602Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"INFO","timestamp":"2025-12-07T14:25:17.602Z","logger":"kafkajs","message":"[Consumer] Stopped","groupId":"orchestrator-group"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.602Z","logger":"kafkajs","message":"[Consumer] Restarting the consumer in 100ms","retryTime":100,"groupId":"orchestrator-group"}
{"level":"INFO","timestamp":"2025-12-07T14:25:17.703Z","logger":"kafkajs","message":"[Consumer] Starting","groupId":"orchestrator-group"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.705Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.706Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":0,"retryTime":85}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.792Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.792Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":1,"retryTime":178}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.972Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.972Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":2,"retryTime":314}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.289Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.289Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":3,"retryTime":616}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.909Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.909Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":4,"retryTime":1078}
{"level":"ERROR","timestamp":"2025-12-07T14:25:19.989Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:19.989Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":5,"retryTime":2276}
{"level":"ERROR","timestamp":"2025-12-07T14:25:22.270Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:22.270Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":6,"retryTime":5418}
{"level":"ERROR","timestamp":"2025-12-07T14:25:27.691Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:27.691Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":7,"retryTime":12768}
gger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":6,"retryTime":7446}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         {"level":"ERROR","timestamp":"2025-12-07T14:15:09.619Z","logger":"kafkajs","message":"[Connection] Response Heartbeat(key: 12, version: 3)","broker":"localhost:9092","clientId":"orchestrator-agent","error":"The group is rebalancing, so a rejoin is needed","correlationId":12,"size":10}
{"level":"ERROR","timestamp":"2025-12-07T14:15:09.621Z","logger":"kafkajs","message":"[Connection] Response Heartbeat(key: 12, version: 3)","broker":"localhost:9092","clientId":"orchestrator-agent","error":"The group is rebalancing, so a rejoin is needed","correlationId":13,"size":10}
{"level":"WARN","timestamp":"2025-12-07T14:15:09.621Z","logger":"kafkajs","message":"[Runner] The group is rebalancing, re-joining","groupId":"orchestrator-group","memberId":"orchestrator-agent-ba133093-6741-45f1-9664-e236c39e511c","error":"The group is rebalancing, so a rejoin is needed"}
{"level":"INFO","timestamp":"2025-12-07T14:15:09.652Z","logger":"kafkajs","message":"[ConsumerGroup] Consumer has joined the group","groupId":"orchestrator-group","memberId":"orchestrator-agent-ba133093-6741-45f1-9664-e236c39e511c","leaderId":"orchestrator-agent-ba133093-6741-45f1-9664-e236c39e511c","isLeader":true,"memberAssignment":{"user.requests":[2]},"groupProtocol":"RoundRobinAssigner","duration":31}
[32minfo[39m: üì• New user request {"requestId":"3052ec79-fb5f-4f9a-8ea1-437e6e7b9c54","service":"orchestrator-agent","timestamp":"2025-12-07T14:17:33.571Z","type":"portfolio_advice","userId":"6"}
[32minfo[39m: üß† Intent classified: portfolio_advice {"requestId":"3052ec79-fb5f-4f9a-8ea1-437e6e7b9c54","service":"orchestrator-agent","timestamp":"2025-12-07T14:17:33.573Z"}
[32minfo[39m: üìö Requesting RAG context {"ragCorrelationId":"e9a28942-5531-444c-a264-effed3ed5be0","requestId":"3052ec79-fb5f-4f9a-8ea1-437e6e7b9c54","service":"orchestrator-agent","timestamp":"2025-12-07T14:17:33.582Z"}
[32minfo[39m: ‚ö° Complexity: simple {"requestId":"3052ec79-fb5f-4f9a-8ea1-437e6e7b9c54","service":"orchestrator-agent","timestamp":"2025-12-07T14:17:33.645Z"}
[32minfo[39m: ‚û°Ô∏è  Routing to investment agent {"requestId":"3052ec79-fb5f-4f9a-8ea1-437e6e7b9c54","service":"orchestrator-agent","taskId":"1a738686-d472-4b02-8db6-634c55cb0d5b","timestamp":"2025-12-07T14:17:33.646Z"}
[32minfo[39m: üë§ User profile fetched for personalization {"investmentGoal":"Income","riskTolerance":"medium","service":"orchestrator-agent","timestamp":"2025-12-07T14:17:33.702Z","userId":"6"}
[32minfo[39m: üì• New user request {"requestId":"31987d87-31d2-4a10-b851-b65830d25230","service":"orchestrator-agent","timestamp":"2025-12-07T14:19:06.109Z","type":"portfolio","userId":"6"}
[32minfo[39m: üß† Intent classified: portfolio {"requestId":"31987d87-31d2-4a10-b851-b65830d25230","service":"orchestrator-agent","timestamp":"2025-12-07T14:19:06.110Z"}
[32minfo[39m: üìö Requesting RAG context {"ragCorrelationId":"df888b05-16d0-4323-a1ad-4c68d9224cf1","requestId":"31987d87-31d2-4a10-b851-b65830d25230","service":"orchestrator-agent","timestamp":"2025-12-07T14:19:06.111Z"}
[32minfo[39m: ‚ö° Complexity: simple {"requestId":"31987d87-31d2-4a10-b851-b65830d25230","service":"orchestrator-agent","timestamp":"2025-12-07T14:19:06.117Z"}
[32minfo[39m: ‚û°Ô∏è  Routing to investment agent {"requestId":"31987d87-31d2-4a10-b851-b65830d25230","service":"orchestrator-agent","taskId":"bf040d22-d7ce-46f5-8163-0ced73194c97","timestamp":"2025-12-07T14:19:06.117Z"}
[32minfo[39m: üë§ User profile fetched for personalization {"investmentGoal":"Income","riskTolerance":"medium","service":"orchestrator-agent","timestamp":"2025-12-07T14:19:06.145Z","userId":"6"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.468Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.470Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":0,"retryTime":120}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.591Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.591Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":1,"retryTime":282}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.875Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:17.875Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":2,"retryTime":526}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.404Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:18.405Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":3,"retryTime":1182}
{"level":"ERROR","timestamp":"2025-12-07T14:25:19.591Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:19.591Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":4,"retryTime":2052}
{"level":"ERROR","timestamp":"2025-12-07T14:25:21.649Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:21.649Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":5,"retryTime":3880}
{"level":"ERROR","timestamp":"2025-12-07T14:25:25.531Z","logger":"kafkajs","message":"[Connection] Connection error: connect ECONNREFUSED 127.0.0.1:9092","broker":"localhost:9092","clientId":"orchestrator-agent","stack":"Error: connect ECONNREFUSED 127.0.0.1:9092\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"level":"ERROR","timestamp":"2025-12-07T14:25:25.531Z","logger":"kafkajs","message":"[BrokerPool] Failed to connect to seed broker, trying another broker from the list: Connection error: connect ECONNREFUSED 127.0.0.1:9092","retryCount":6,"retryTime":6336}
