
> orchestrator-agent@1.0.0 dev
> tsx watch src/index.ts

{"level":"WARN","timestamp":"2025-12-08T14:54:28.282Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.332Z"}
[32minfo[39m: üöÄ Starting Orchestrator Agent (v2.0) {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.333Z"}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.334Z"}
[32minfo[39m: Connecting to Kafka... {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.334Z"}
(node:25994) TimeoutNegativeWarning: -1765205668359 is a negative number.
Timeout duration was set to 1.
(Use `node --trace-warnings ...` to show where the warning was created)
[32minfo[39m: ‚úÖ Connected to Kafka {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.360Z"}
[32minfo[39m: Subscribing to topics... {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.361Z"}
[32minfo[39m: ‚úÖ Subscribed to topics: user.requests, knowledge.results {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.373Z"}
[32minfo[39m: üìã Configuration: {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.373Z"}
[32minfo[39m:   - Input Topic: user.requests {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.374Z"}
[32minfo[39m:   - Output Topics: agent.tasks, planning.tasks, knowledge.queries {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.374Z"}
[32minfo[39m:   - Monitoring: monitoring.events {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.374Z"}
[32minfo[39m:  {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.374Z"}
[32minfo[39m: Starting message consumption... {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:28.374Z"}
{"level":"INFO","timestamp":"2025-12-08T14:54:28.375Z","logger":"kafkajs","message":"[Consumer] Starting","groupId":"orchestrator-group"}
{"level":"INFO","timestamp":"2025-12-08T14:54:31.588Z","logger":"kafkajs","message":"[ConsumerGroup] Consumer has joined the group","groupId":"orchestrator-group","memberId":"orchestrator-agent-7812ae8e-7a5b-44ed-97e4-18b717e108ae","leaderId":"orchestrator-agent-7812ae8e-7a5b-44ed-97e4-18b717e108ae","isLeader":true,"memberAssignment":{"user.requests":[0,1,2],"knowledge.results":[0,1,2]},"groupProtocol":"RoundRobinAssigner","duration":3213}
[32minfo[39m: ‚úÖ Started consuming messages {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:31.590Z"}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:31.590Z"}
[32minfo[39m: ‚úÖ Orchestrator Agent is running! {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:31.590Z"}
[32minfo[39m: ========================================== {"service":"orchestrator-agent","timestamp":"2025-12-08T14:54:31.590Z"}
[32minfo[39m: üì• New user request {"requestId":"d2e7e090-cacc-4c8b-b60a-cbf2f7275383","service":"orchestrator-agent","timestamp":"2025-12-08T15:29:51.303Z","type":"portfolio","userId":"6"}
[32minfo[39m: üß† Intent classified: portfolio {"requestId":"d2e7e090-cacc-4c8b-b60a-cbf2f7275383","service":"orchestrator-agent","timestamp":"2025-12-08T15:29:51.314Z"}
[32minfo[39m: üìö Requesting RAG context {"ragCorrelationId":"24126423-e73b-4594-8bfe-18288692dbf8","requestId":"d2e7e090-cacc-4c8b-b60a-cbf2f7275383","service":"orchestrator-agent","timestamp":"2025-12-08T15:29:51.327Z"}
[32minfo[39m: ‚ö° Complexity: simple {"requestId":"d2e7e090-cacc-4c8b-b60a-cbf2f7275383","service":"orchestrator-agent","timestamp":"2025-12-08T15:29:51.428Z"}
[32minfo[39m: ‚û°Ô∏è  Routing to investment agent {"requestId":"d2e7e090-cacc-4c8b-b60a-cbf2f7275383","service":"orchestrator-agent","taskId":"c6f0ce2f-6d10-4a08-8fdb-04fa17d59261","timestamp":"2025-12-08T15:29:51.429Z"}
[32minfo[39m: üë§ User profile fetched for personalization {"investmentGoal":"Income","riskTolerance":"medium","service":"orchestrator-agent","timestamp":"2025-12-08T15:29:51.485Z","userId":"6"}
[32minfo[39m: üìö Received RAG results {"correlationId":"d2e7e090-cacc-4c8b-b60a-cbf2f7275383","queryId":"24126423-e73b-4594-8bfe-18288692dbf8","resultCount":0,"service":"orchestrator-agent","timestamp":"2025-12-08T15:29:51.562Z"}
[32minfo[39m: üì• New user request {"requestId":"774edd11-52e5-4c45-aeca-aa808255821f","service":"orchestrator-agent","timestamp":"2025-12-08T15:32:13.635Z","type":"portfolio_advice","userId":"6"}
[32minfo[39m: üß† Intent classified: portfolio_advice {"requestId":"774edd11-52e5-4c45-aeca-aa808255821f","service":"orchestrator-agent","timestamp":"2025-12-08T15:32:13.635Z"}
[32minfo[39m: üìö Requesting RAG context {"ragCorrelationId":"8b5dfe58-8b4b-4b55-9a8c-8d1dcb15583e","requestId":"774edd11-52e5-4c45-aeca-aa808255821f","service":"orchestrator-agent","timestamp":"2025-12-08T15:32:13.636Z"}
[32minfo[39m: ‚ö° Complexity: simple {"requestId":"774edd11-52e5-4c45-aeca-aa808255821f","service":"orchestrator-agent","timestamp":"2025-12-08T15:32:13.639Z"}
[32minfo[39m: ‚û°Ô∏è  Routing to investment agent {"requestId":"774edd11-52e5-4c45-aeca-aa808255821f","service":"orchestrator-agent","taskId":"1ca5eb74-5560-4873-b755-a262482405ed","timestamp":"2025-12-08T15:32:13.639Z"}
[32minfo[39m: üë§ User profile fetched for personalization {"investmentGoal":"Income","riskTolerance":"medium","service":"orchestrator-agent","timestamp":"2025-12-08T15:32:13.661Z","userId":"6"}
[32minfo[39m: üìö Received RAG results {"correlationId":"774edd11-52e5-4c45-aeca-aa808255821f","queryId":"8b5dfe58-8b4b-4b55-9a8c-8d1dcb15583e","resultCount":0,"service":"orchestrator-agent","timestamp":"2025-12-08T15:32:13.671Z"}
